/*! qTip2 v2.0.1-4-g (includes: svg ajax tips modal viewport imagemap ie6 / basic css3) | qtip2.com | Licensed MIT, GPL | Fri Jan 04 2013 04:05:40 */(function(e,t,n){(function(e){"use strict";typeof define=="function"&&define.amd?define(["jquery"],e):jQuery&&!jQuery.fn.qtip&&e(jQuery)})(function(r){function i(n){O={pageX:n.pageX,pageY:n.pageY,type:"mousemove",scrollX:e.pageXOffset||t.body.scrollLeft||t.documentElement.scrollLeft,scrollY:e.pageYOffset||t.body.scrollTop||t.documentElement.scrollTop}}function s(e){var t=function(e){return e===v||"object"!=typeof e},n=function(e){return!r.isFunction(e)&&(!e&&!e.attr||e.length<1||"object"==typeof e&&!e.jquery&&!e.then)};if(!e||"object"!=typeof e)return d;t(e.metadata)&&(e.metadata={type:e.metadata});if("content"in e){if(t(e.content)||e.content.jquery)e.content={text:e.content};n(e.content.text||d)&&(e.content.text=d),"title"in e.content&&(t(e.content.title)&&(e.content.title={text:e.content.title}),n(e.content.title.text||d)&&(e.content.title.text=d))}return"position"in e&&t(e.position)&&(e.position={my:e.position,at:e.position}),"show"in e&&t(e.show)&&(e.show=e.show.jquery?{target:e.show}:{event:e.show}),"hide"in e&&t(e.hide)&&(e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide}),"style"in e&&t(e.style)&&(e.style={classes:e.style}),r.each(A,function(){this.sanitize&&this.sanitize(e)}),e}function o(o,u,a,f){function l(e){var t=0,n,r=u,i=e.split(".");while(r=r[i[t++]])t<i.length&&(n=r);return[n||u,i.pop()]}function c(e){return D.concat("").join(e?"-"+e+" ":" ")}function h(){var e=u.style.widget,t=$.hasClass(K);$.removeClass(K),K=e?"ui-state-disabled":"qtip-disabled",$.toggleClass(K,t),$.toggleClass("ui-helper-reset "+c(),e).toggleClass(H,u.style.def&&!e),Q.content&&Q.content.toggleClass(c("content"),e),Q.titlebar&&Q.titlebar.toggleClass(c("header"),e),Q.button&&Q.button.toggleClass(M+"-icon",!e)}function m(e){Q.title&&(Q.titlebar.remove(),Q.titlebar=Q.title=Q.button=v,e!==d&&U.reposition())}function g(){var e=u.content.title.button,t=typeof e=="string",n=t?e:"Close tooltip";Q.button&&Q.button.remove(),e.jquery?Q.button=e:Q.button=r("<a />",{"class":"qtip-close "+(u.style.widget?"":M+"-icon"),title:n,"aria-label":n}).prepend(r("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),Q.button.appendTo(Q.titlebar||$).attr("role","button").click(function(e){return $.hasClass(K)||U.hide(e),d})}function y(){var e=W+"-title";Q.titlebar&&m(),Q.titlebar=r("<div />",{"class":M+"-titlebar "+(u.style.widget?c("header"):"")}).append(Q.title=r("<div />",{id:e,"class":M+"-title","aria-atomic":p})).insertBefore(Q.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(e){r(this).toggleClass("ui-state-active ui-state-focus",e.type.substr(-4)==="down")}).delegate(".qtip-close","mouseover mouseout",function(e){r(this).toggleClass("ui-state-hover",e.type==="mouseover")}),u.content.title.button&&g()}function b(e){var t=Q.button;if(!U.rendered)return d;e?g():t.remove()}function N(e,t){var n=Q.title;if(!U.rendered||!e)return d;r.isFunction(e)&&(e=e.call(o,G.event,U));if(e===d||!e&&e!=="")return m(d);e.jquery&&e.length>0?n.empty().append(e.css({display:"block"})):n.html(e),t!==d&&U.rendered&&$[0].offsetWidth>0&&U.reposition(G.event)}function C(e){e&&r.isFunction(e.done)&&e.done(function(e){k(e,null,d)})}function k(e,t,i){function s(e){function i(n){n&&(delete o[n.src],clearTimeout(U.timers.img[n.src]),r(n).unbind(J)),r.isEmptyObject(o)&&(t!==d&&U.reposition(G.event),e())}var s,o={};if((s=a.find("img[src]:not([height]):not([width])")).length===0)return i();s.each(function(e,t){if(o[t.src]!==n)return;var s=0,u=3;(function a(){if(t.height||t.width||s>u)return i(t);s+=1,U.timers.img[t.src]=setTimeout(a,700)})(),r(t).bind("error"+J+" load"+J,function(){i(this)}),o[t.src]=t})}var a=Q.content;return!U.rendered||!e?d:(r.isFunction(e)&&(e=e.call(o,G.event,U)||""),i!==d&&C(u.content.deferred),e.jquery&&e.length>0?a.empty().append(e.css({display:"block"})):a.html(e),U.rendered<0?$.queue("fx",s):(V=0,s(r.noop)),U)}function F(){function n(e){if($.hasClass(K))return d;clearTimeout(U.timers.show),clearTimeout(U.timers.hide);var t=function(){U.toggle(p,e)};u.show.delay>0?U.timers.show=setTimeout(t,u.show.delay):t()}function s(e){if($.hasClass(K)||X||V)return d;var t=r(e.relatedTarget||e.target),n=t.closest(P)[0]===$[0],i=t[0]===h.show[0];clearTimeout(U.timers.show),clearTimeout(U.timers.hide);if(c.target==="mouse"&&n||u.hide.fixed&&/mouse(out|leave|move)/.test(e.type)&&(n||i)){try{e.preventDefault(),e.stopImmediatePropagation()}catch(s){}return}u.hide.delay>0?U.timers.hide=setTimeout(function(){U.hide(e)},u.hide.delay):U.hide(e)}function f(e){if($.hasClass(K))return d;clearTimeout(U.timers.inactive),U.timers.inactive=setTimeout(function(){U.hide(e)},u.hide.inactive)}function l(e){U.rendered&&$[0].offsetWidth>0&&U.reposition(e)}var c=u.position,h={show:u.show.target,hide:u.hide.target,viewport:r(c.viewport),document:r(t),body:r(t.body),window:r(e)},v={show:r.trim(""+u.show.event).split(" "),hide:r.trim(""+u.hide.event).split(" ")},m=r.browser.msie&&parseInt(r.browser.version,10)===6;$.bind("mouseenter"+J+" mouseleave"+J,function(e){var t=e.type==="mouseenter";t&&U.focus(e),$.toggleClass(j,t)}),/mouse(out|leave)/i.test(u.hide.event)&&u.hide.leave==="window"&&h.window.bind("mouseout"+J+" blur"+J,function(e){!/select|option/.test(e.target.nodeName)&&!e.relatedTarget&&U.hide(e)}),u.hide.fixed?(h.hide=h.hide.add($),$.bind("mouseover"+J,function(){$.hasClass(K)||clearTimeout(U.timers.hide)})):/mouse(over|enter)/i.test(u.show.event)&&h.hide.bind("mouseleave"+J,function(e){clearTimeout(U.timers.show)}),(""+u.hide.event).indexOf("unfocus")>-1&&c.container.closest("html").bind("mousedown"+J+" touchstart"+J,function(e){var t=r(e.target),n=U.rendered&&!$.hasClass(K)&&$[0].offsetWidth>0,i=t.parents(P).filter($[0]).length>0;t[0]!==o[0]&&t[0]!==$[0]&&!i&&!o.has(t[0]).length&&!t.attr("disabled")&&U.hide(e)}),"number"==typeof u.hide.inactive&&(h.show.bind("qtip-"+a+"-inactive",f),r.each(L.inactiveEvents,function(e,t){h.hide.add(Q.tooltip).bind(t+J+"-inactive",f)})),r.each(v.hide,function(e,t){var i=r.inArray(t,v.show),o=r(h.hide);i>-1&&o.add(h.show).length===o.length||t==="unfocus"?(h.show.bind(t+J,function(e){$[0].offsetWidth>0?s(e):n(e)}),delete v.show[i]):h.hide.bind(t+J,s)}),r.each(v.show,function(e,t){h.show.bind(t+J,n)}),"number"==typeof u.hide.distance&&h.show.add($).bind("mousemove"+J,function(e){var t=G.origin||{},n=u.hide.distance,r=Math.abs;(r(e.pageX-t.pageX)>=n||r(e.pageY-t.pageY)>=n)&&U.hide(e)}),c.target==="mouse"&&(h.show.bind("mousemove"+J,i),c.adjust.mouse&&(u.hide.event&&($.bind("mouseleave"+J,function(e){(e.relatedTarget||e.target)!==h.show[0]&&U.hide(e)}),Q.target.bind("mouseenter"+J+" mouseleave"+J,function(e){G.onTarget=e.type==="mouseenter"})),h.document.bind("mousemove"+J,function(e){U.rendered&&G.onTarget&&!$.hasClass(K)&&$[0].offsetWidth>0&&U.reposition(e||O)}))),(c.adjust.resize||h.viewport.length)&&(r.event.special.resize?h.viewport:h.window).bind("resize"+J,l),h.window.add(c.container).bind("scroll"+J,l)}function R(){var n=[u.show.target[0],u.hide.target[0],U.rendered&&Q.tooltip[0],u.position.container[0],u.position.viewport[0],u.position.container.closest("html")[0],e,t];U.rendered?r([]).pushStack(r.grep(n,function(e){return typeof e=="object"})).unbind(J):u.show.target.unbind(J+"-create")}var U=this,z=t.body,W=M+"-"+a,X=0,V=0,$=r(),J=".qtip-"+a,K="qtip-disabled",Q,G;U.id=a,U.rendered=d,U.destroyed=d,U.elements=Q={target:o},U.timers={img:{}},U.options=u,U.checks={},U.plugins={},U.cache=G={event:{},target:r(),disabled:d,attr:f,onTarget:d,lastClass:""},U.checks.builtin={"^id$":function(e,t,n){var i=n===p?L.nextid:n,s=M+"-"+i;i!==d&&i.length>0&&!r("#"+s).length&&($[0].id=s,Q.content[0].id=s+"-content",Q.title[0].id=s+"-title")},"^content.text$":function(e,t,n){k(u.content.text)},"^content.deferred$":function(e,t,n){C(u.content.deferred)},"^content.title.text$":function(e,t,n){if(!n)return m();!Q.title&&n&&y(),N(n)},"^content.title.button$":function(e,t,n){b(n)},"^position.(my|at)$":function(e,t,n){"string"==typeof n&&(e[t]=new A.Corner(n))},"^position.container$":function(e,t,n){U.rendered&&$.appendTo(n)},"^show.ready$":function(){U.rendered?U.toggle(p):U.render(1)},"^style.classes$":function(e,t,n){$.attr("class",M+" qtip "+n)},"^style.width|height":function(e,t,n){$.css(t,n)},"^style.widget|content.title":h,"^events.(render|show|move|hide|focus|blur)$":function(e,t,n){$[(r.isFunction(n)?"":"un")+"bind"]("tooltip"+t,n)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){var e=u.position;$.attr("tracking",e.target==="mouse"&&e.adjust.mouse),R(),F()}},r.extend(U,{_triggerEvent:function(e,t,n){var i=r.Event("tooltip"+e);return i.originalEvent=(n?r.extend({},n):v)||G.event||v,$.trigger(i,[U].concat(t||[])),!i.isDefaultPrevented()},render:function(e){if(U.rendered)return U;var t=u.content.text,n=u.content.title,i=u.position;return r.attr(o[0],"aria-describedby",W),$=Q.tooltip=r("<div/>",{id:W,"class":[M,H,u.style.classes,M+"-pos-"+u.position.my.abbrev()].join(" "),width:u.style.width||"",height:u.style.height||"",tracking:i.target==="mouse"&&i.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":d,"aria-describedby":W+"-content","aria-hidden":p}).toggleClass(K,G.disabled).data("qtip",U).appendTo(u.position.container).append(Q.content=r("<div />",{"class":M+"-content",id:W+"-content","aria-atomic":p})),U.rendered=-1,X=1,n.text?(y(),r.isFunction(n.text)||N(n.text,d)):n.button&&g(),(!r.isFunction(t)||t.then)&&k(t,d),U.rendered=p,h(),r.each(u.events,function(e,t){r.isFunction(t)&&$.bind(e==="toggle"?"tooltipshow tooltiphide":"tooltip"+e,t)}),r.each(A,function(){this.initialize==="render"&&this(U)}),F(),$.queue("fx",function(t){U._triggerEvent("render"),X=0,(u.show.ready||e)&&U.toggle(p,G.event,d),t()}),U},get:function(e){var t,n;switch(e.toLowerCase()){case"dimensions":t={height:$.outerHeight(d),width:$.outerWidth(d)};break;case"offset":t=A.offset($,u.position.container);break;default:n=l(e.toLowerCase()),t=n[0][n[1]],t=t.precedance?t.string():t}return t},set:function(e,t){function n(e,t){var n,r,i;for(n in f)for(r in f[n])if(i=(new RegExp(r,"i")).exec(e))t.push(i),f[n][r].apply(U,t)}var i=/^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,o=/^content\.(title|attr)|style/i,a=d,f=U.checks,c;return"string"==typeof e?(c=e,e={},e[c]=t):e=r.extend(p,{},e),r.each(e,function(t,n){var s=l(t.toLowerCase()),o;o=s[0][s[1]],s[0][s[1]]="object"==typeof n&&n.nodeType?r(n):n,e[t]=[s[0],s[1],n,o],a=i.test(t)||a}),s(u),X=1,r.each(e,n),X=0,U.rendered&&$[0].offsetWidth>0&&a&&U.reposition(u.position.target==="mouse"?v:G.event),U},toggle:function(e,n){function s(){e?(r.browser.msie&&$[0].style.removeAttribute("filter"),$.css("overflow",""),"string"==typeof f.autofocus&&r(f.autofocus,$).focus(),f.target.trigger("qtip-"+a+"-inactive")):$.css({display:"",visibility:"",opacity:"",left:"",top:""}),U._triggerEvent(e?"visible":"hidden")}if(n){if(/over|enter/.test(n.type)&&/out|leave/.test(G.event.type)&&u.show.target.add(n.target).length===u.show.target.length&&$.has(n.relatedTarget).length)return U;G.event=r.extend({},n)}if(!U.rendered)return e?U.render(1):U;var o=e?"show":"hide",f=u[o],l=u[e?"hide":"show"],c=u.position,h=u.content,v=$[0].offsetWidth>0,m=e||f.target.length===1,g=!n||f.target.length<2||G.target[0]===n.target,y,b;return(typeof e).search("boolean|number")&&(e=!v),!$.is(":animated")&&v===e&&g?U:U._triggerEvent(o,[90])?(r.attr($[0],"aria-hidden",!e),e?(G.origin=r.extend({},O),U.focus(n),r.isFunction(h.text)&&k(h.text,d),r.isFunction(h.title.text)&&N(h.title.text,d),!q&&c.target==="mouse"&&c.adjust.mouse&&(r(t).bind("mousemove.qtip",i),q=p),U.reposition(n,arguments[2]),!f.solo||(typeof f.solo=="string"?r(f.solo):r(P,f.solo)).not($).not(f.target).qtip("hide",r.Event("tooltipsolo"))):(clearTimeout(U.timers.show),delete G.origin,q&&!r(P+'[tracking="true"]:visible',f.solo).not($).length&&(r(t).unbind("mousemove.qtip"),q=d),U.blur(n)),f.effect===d||m===d?($[o](),s.call($)):r.isFunction(f.effect)?($.stop(1,1),f.effect.call($,U),$.queue("fx",function(e){s(),e()})):$.fadeTo(90,e?1:0,s),e&&f.target.trigger("qtip-"+a+"-inactive"),U):U},show:function(e){return U.toggle(p,e)},hide:function(e){return U.toggle(d,e)},focus:function(e){if(!U.rendered)return U;var t=r(P),n=parseInt($[0].style.zIndex,10),i=L.zindex+t.length,s=r.extend({},e),o;return $.hasClass(B)||U._triggerEvent("focus",[i],s)&&(n!==i&&(t.each(function(){this.style.zIndex>n&&(this.style.zIndex=this.style.zIndex-1)}),t.filter("."+B).qtip("blur",s)),$.addClass(B)[0].style.zIndex=i),U},blur:function(e){return $.removeClass(B),U._triggerEvent("blur",[$.css("zIndex")],e),U},reposition:function(n,i){if(!U.rendered||X)return U;X=1;var s=u.position.target,o=u.position,a=o.my,f=o.at,l=o.adjust,c=l.method.split(" "),h=$.outerWidth(d),p=$.outerHeight(d),v=0,m=0,g=$.css("position"),y=o.viewport,b={left:0,top:0},N=o.container,C=$[0].offsetWidth>0,k=n&&n.type==="scroll",L=r(e),M,_;if(r.isArray(s)&&s.length===2)f={x:E,y:w},b={left:s[0],top:s[1]};else if(s==="mouse"&&(n&&n.pageX||G.event.pageX))f={x:E,y:w},n=O&&O.pageX&&(l.mouse||!n||!n.pageX)?{pageX:O.pageX,pageY:O.pageY}:(!n||n.type!=="resize"&&n.type!=="scroll"?n&&n.pageX&&n.type==="mousemove"?n:(!l.mouse||u.show.distance)&&G.origin&&G.origin.pageX?G.origin:n:G.event)||n||G.event||O||{},g!=="static"&&(b=N.offset()),b={left:n.pageX-b.left,top:n.pageY-b.top},l.mouse&&k&&(b.left-=O.scrollX-L.scrollLeft(),b.top-=O.scrollY-L.scrollTop());else{s==="event"&&n&&n.target&&n.type!=="scroll"&&n.type!=="resize"?G.target=r(n.target):s!=="event"&&(G.target=r(s.jquery?s:Q.target)),s=G.target,s=r(s).eq(0);if(s.length===0)return U;s[0]===t||s[0]===e?(v=A.iOS?e.innerWidth:s.width(),m=A.iOS?e.innerHeight:s.height(),s[0]===e&&(b={top:(y||s).scrollTop(),left:(y||s).scrollLeft()})):A.imagemap&&s.is("area")?M=A.imagemap(U,s,f,A.viewport?c:d):A.svg&&s[0].ownerSVGElement?M=A.svg(U,s,f,A.viewport?c:d):(v=s.outerWidth(d),m=s.outerHeight(d),b=A.offset(s,N)),M&&(v=M.width,m=M.height,_=M.offset,b=M.position);if(A.iOS>3.1&&A.iOS<4.1||A.iOS>=4.3&&A.iOS<4.33||!A.iOS&&g==="fixed")b.left-=L.scrollLeft(),b.top-=L.scrollTop();b.left+=f.x===x?v:f.x===T?v/2:0,b.top+=f.y===S?m:f.y===T?m/2:0}return b.left+=l.x+(a.x===x?-h:a.x===T?-h/2:0),b.top+=l.y+(a.y===S?-p:a.y===T?-p/2:0),A.viewport?(b.adjusted=A.viewport(U,b,o,v,m,h,p),_&&b.adjusted.left&&(b.left+=_.left),_&&b.adjusted.top&&(b.top+=_.top)):b.adjusted={left:0,top:0},U._triggerEvent("move",[b,y.elem||y],n)?(delete b.adjusted,i===d||!C||isNaN(b.left)||isNaN(b.top)||s==="mouse"||!r.isFunction(o.effect)?$.css(b):r.isFunction(o.effect)&&(o.effect.call($,U,r.extend({},b)),$.queue(function(e){r(this).css({opacity:"",height:""}),r.browser.msie&&this.style.removeAttribute("filter"),e()})),X=0,U):U},disable:function(e){return"boolean"!=typeof e&&(e=!$.hasClass(K)&&!G.disabled),U.rendered?($.toggleClass(K,e),r.attr($[0],"aria-disabled",e)):G.disabled=!!e,U},enable:function(){return U.disable(d)},destroy:function(){var e=o[0],t=r.attr(e,I),n=o.data("qtip");U.destroyed=p,U.rendered&&($.stop(1,0).remove(),r.each(U.plugins,function(){this.destroy&&this.destroy()})),clearTimeout(U.timers.show),clearTimeout(U.timers.hide),R();if(!n||U===n)r.removeData(e,"qtip"),u.suppress&&t&&(r.attr(e,"title",t),o.removeAttr(I)),o.removeAttr("aria-describedby");return o.unbind(".qtip-"+a),delete _[U.id],o}})}function u(e,n){var i,u,a,f,l,c=r(this),h=r(t.body),m=this===t?h:c,g=c.metadata?c.metadata(n.metadata):v,y=n.metadata.type==="html5"&&g?g[n.metadata.name]:v,b=c.data(n.metadata.name||"qtipopts");try{b=typeof b=="string"?r.parseJSON(b):b}catch(w){}f=r.extend(p,{},L.defaults,n,typeof b=="object"?s(b):v,s(y||g)),u=f.position,f.id=e;if("boolean"==typeof f.content.text){a=c.attr(f.content.attr);if(f.content.attr===d||!a)return d;f.content.text=a}u.container.length||(u.container=h),u.target===d&&(u.target=m),f.show.target===d&&(f.show.target=m),f.show.solo===p&&(f.show.solo=u.container.closest("body")),f.hide.target===d&&(f.hide.target=m),f.position.viewport===p&&(f.position.viewport=u.container),u.container=u.container.eq(0),u.at=new A.Corner(u.at),u.my=new A.Corner(u.my);if(r.data(this,"qtip"))if(f.overwrite)c.qtip("destroy");else if(f.overwrite===d)return d;return f.suppress&&(l=r.attr(this,"title"))&&r(this).removeAttr("title").attr(I,l).attr("title",""),i=new o(c,f,e,!!a),r.data(this,"qtip",i),c.bind("remove.qtip-"+e+" removeqtip.qtip-"+e,function(){i.destroy()}),i}function a(e){var t=this,n=e.elements.tooltip,i=e.options.content.ajax,s=L.defaults.content.ajax,o=".qtip-ajax",u=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,a=p,f=d,l;e.checks.ajax={"^content.ajax":function(e,r,s){r==="ajax"&&(i=s),r==="once"?t.init():i&&i.url?t.load():n.unbind(o)}},r.extend(t,{init:function(){return i&&i.url&&n.unbind(o)[i.once?"one":"bind"]("tooltipshow"+o,t.load),t},load:function(n){function o(){var t;if(e.destroyed)return;a=d,y&&(f=p,e.show(n.originalEvent)),(t=s.complete||i.complete)&&r.isFunction(t)&&t.apply(i.context||e,arguments)}function c(t,n,o){var a;if(e.destroyed)return;g&&"string"==typeof t&&(t=r("<div/>").append(t.replace(u,"")).find(g)),(a=s.success||i.success)&&r.isFunction(a)?a.call(i.context||e,t,n,o):e.set("content.text",t)}function h(t,n,r){if(e.destroyed||t.status===0)return;e.set("content.text",n+": "+r)}if(f){f=d;return}var v=i.url.lastIndexOf(" "),m=i.url,g,y=!i.loading&&a;if(y)try{n.preventDefault()}catch(b){}else if(n&&n.isDefaultPrevented())return t;l&&l.abort&&l.abort(),v>-1&&(g=m.substr(v),m=m.substr(0,v)),l=r.ajax(r.extend({error:s.error||h,context:e},i,{url:m,success:c,complete:o}))},destroy:function(){l&&l.abort&&l.abort(),e.destroyed=p}}),t.init()}function f(e,t,n){var r=Math.ceil(t/2),i=Math.ceil(n/2),s={bottomright:[[0,0],[t,n],[t,0]],bottomleft:[[0,0],[t,0],[0,n]],topright:[[0,n],[t,0],[t,n]],topleft:[[0,0],[0,n],[t,n]],topcenter:[[0,n],[r,0],[t,n]],bottomcenter:[[0,0],[t,0],[r,n]],rightcenter:[[0,0],[t,i],[0,n]],leftcenter:[[t,0],[t,n],[0,i]]};return s.lefttop=s.bottomright,s.righttop=s.bottomleft,s.leftbottom=s.topright,s.rightbottom=s.topleft,s[e.string()]}function l(e,t){function i(e){var t=_.is(":visible");_.show(),e(),_.toggle(t)}function s(){P.width=O.height,P.height=O.width}function o(){P.width=O.width,P.height=O.height}function u(t,r,i,s){if(!M.tip)return;var o=L.corner.clone(),u=i.adjusted,a=e.options.position.adjust.method.split(" "),f=a[0],c=a[1]||a[0],h={left:d,top:d,x:0,y:0},v,y={},b;L.corner.fixed!==p&&(f===k&&o.precedance===m&&u.left&&o.y!==T?o.precedance=o.precedance===m?g:m:f!==k&&u.left&&(o.x=o.x===T?u.left>0?E:x:o.x===E?x:E),c===k&&o.precedance===g&&u.top&&o.x!==T?o.precedance=o.precedance===g?m:g:c!==k&&u.top&&(o.y=o.y===T?u.top>0?w:S:o.y===w?S:w),o.string()!==D.corner.string()&&(D.top!==u.top||D.left!==u.left)&&L.update(o,d)),v=L.position(o,u),v[o.x]+=l(o,o.x),v[o.y]+=l(o,o.y),v.right!==n&&(v.left=-v.right),v.bottom!==n&&(v.top=-v.bottom),v.user=Math.max(0,O.offset);if(h.left=f===k&&!!u.left)o.x===T?y["margin-left"]=h.x=v["margin-left"]:(b=v.right!==n?[u.left,-v.left]:[-u.left,v.left],(h.x=Math.max(b[0],b[1]))>b[0]&&(i.left-=u.left,h.left=d),y[v.right!==n?x:E]=h.x);if(h.top=c===k&&!!u.top)o.y===T?y["margin-top"]=h.y=v["margin-top"]:(b=v.bottom!==n?[u.top,-v.top]:[-u.top,v.top],(h.y=Math.max(b[0],b[1]))>b[0]&&(i.top-=u.top,h.top=d),y[v.bottom!==n?S:w]=h.y);M.tip.css(y).toggle(!(h.x&&h.y||o.x===T&&h.y||o.y===T&&h.x)),i.left-=v.left.charAt?v.user:f!==k||h.top||!h.left&&!h.top?v.left:0,i.top-=v.top.charAt?v.user:c!==k||h.left||!h.left&&!h.top?v.top:0,D.left=u.left,D.top=u.top,D.corner=o.clone()}function a(){var t=O.corner,n=e.options.position,r=n.at,i=n.my.string?n.my.string():n.my;return t===d||i===d&&r===d?d:(t===p?L.corner=new A.Corner(i):t.string||(L.corner=new A.Corner(t),L.corner.fixed=p),D.corner=new A.Corner(L.corner.string()),L.corner.string()!=="centercenter")}function l(e,t,n){t=t?t:e[e.precedance];var r=M.titlebar&&e.y===w,s=r?M.titlebar:_,o="border-"+t+"-width",u=function(e){return parseInt(e.css(o),10)},a;return i(function(){a=(n?u(n):u(M.content)||u(s)||u(_))||0}),a}function c(e){var t=M.titlebar&&e.y===w,n=t?M.titlebar:M.content,s=r.browser.mozilla,o=s?"-moz-":r.browser.webkit?"-webkit-":"",u="border-radius-"+e.y+e.x,a="border-"+e.y+"-"+e.x+"-radius",f=function(e){return parseInt(n.css(e),10)||parseInt(_.css(e),10)},l;return i(function(){l=f(a)||f(o+a)||f(o+u)||f(u)||0}),l}function h(e){function t(e,t,n){var r=e.css(t)||h;return n&&r===e.css(n)?d:f.test(r)?d:r}var n,s,o,u=M.tip.css("cssText",""),a=e||L.corner,f=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,l="border-"+a[a.precedance]+"-color",c="background-color",h="transparent",v=" !important",m=M.titlebar,g=m&&(a.y===w||a.y===T&&u.position().top+P.height/2+O.offset<m.outerHeight(p)),y=g?m:M.content;i(function(){H.fill=t(u,c)||t(y,c)||t(M.content,c)||t(_,c)||u.css(c),H.border=t(u,l,"color")||t(y,l,"color")||t(M.content,l,"color")||t(_,l,"color")||_.css(l),r("*",u).add(u).css("cssText",c+":"+h+v+";border:0"+v+";")})}function N(e){var t=e.precedance===g,n=P[t?y:b],r=P[t?b:y],i=e.string().indexOf(T)>-1,s=n*(i?.5:1),o=Math.pow,u=Math.round,a,f,l,c=Math.sqrt(o(s,2)+o(r,2)),h=[B/s*c,B/r*c];return h[2]=Math.sqrt(o(h[0],2)-o(B,2)),h[3]=Math.sqrt(o(h[1],2)-o(B,2)),a=c+h[2]+h[3]+(i?0:h[0]),f=a/c,l=[u(f*r),u(f*n)],{height:l[t?0:1],width:l[t?1:0]}}function C(e,t,n){return"<qvml:"+e+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(t||"")+' style="behavior: url(#default#VML); '+(n||"")+'" />'}var L=this,O=e.options.style.tip,M=e.elements,_=M.tooltip,D={top:0,left:0},P={width:O.width,height:O.height},H={},B=O.border||0,j=".qtip-tip",F=!!(r("<canvas />")[0]||{}).getContext,I;L.corner=v,L.mimic=v,L.border=B,L.offset=O.offset,L.size=P,e.checks.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){L.init()||L.destroy(),e.reposition()},"^style.tip.(height|width)$":function(){P={width:O.width,height:O.height},L.create(),L.update(),e.reposition()},"^content.title.text|style.(classes|widget)$":function(){M.tip&&M.tip.length&&L.update()}},r.extend(L,{init:function(){var e=a()&&(F||r.browser.msie);return e&&(L.create(),L.update(),_.unbind(j).bind("tooltipmove"+j,u)),e},create:function(){var e=P.width,t=P.height,n;M.tip&&M.tip.remove(),M.tip=r("<div />",{"class":"qtip-tip"}).css({width:e,height:t}).prependTo(_),F?r("<canvas />").appendTo(M.tip)[0].getContext("2d").save():(n=C("shape",'coordorigin="0,0"',"position:absolute;"),M.tip.html(n+n),r("*",M.tip).bind("click mousedown",function(e){e.stopPropagation()}))},update:function(e,t){var n=M.tip,i=n.children(),u=P.width,a=P.height,c=O.mimic,y=Math.round,b,k,j,I,q;e||(e=D.corner||L.corner),c===d?c=e:(c=new A.Corner(c),c.precedance=e.precedance,c.x==="inherit"?c.x=e.x:c.y==="inherit"?c.y=e.y:c.x===c.y&&(c[e.precedance]=e[e.precedance])),b=c.precedance,e.precedance===m?s():o(),M.tip.css({width:u=P.width,height:a=P.height}),h(e),H.border!=="transparent"?(B=l(e,v),O.border===0&&B>0&&(H.fill=H.border),L.border=B=O.border!==p?O.border:B):L.border=B=0,j=f(c,u,a),L.size=q=N(e),n.css(q).css("line-height",q.height+"px"),e.precedance===g?I=[y(c.x===E?B:c.x===x?q.width-u-B:(q.width-u)/2),y(c.y===w?q.height-a:0)]:I=[y(c.x===E?q.width-u:0),y(c.y===w?B:c.y===S?q.height-a-B:(q.height-a)/2)],F?(i.attr(q),k=i[0].getContext("2d"),k.restore(),k.save(),k.clearRect(0,0,3e3,3e3),k.fillStyle=H.fill,k.strokeStyle=H.border,k.lineWidth=B*2,k.lineJoin="miter",k.miterLimit=100,k.translate(I[0],I[1]),k.beginPath(),k.moveTo(j[0][0],j[0][1]),k.lineTo(j[1][0],j[1][1]),k.lineTo(j[2][0],j[2][1]),k.closePath(),B&&(_.css("background-clip")==="border-box"&&(k.strokeStyle=H.fill,k.stroke()),k.strokeStyle=H.border,k.stroke()),k.fill()):(j="m"+j[0][0]+","+j[0][1]+" l"+j[1][0]+","+j[1][1]+" "+j[2][0]+","+j[2][1]+" xe",I[2]=B&&/^(r|b)/i.test(e.string())?parseFloat(r.browser.version,10)===8?2:1:0,i.css({coordsize:u+B+" "+(a+B),antialias:""+(c.string().indexOf(T)>-1),left:I[0],top:I[1],width:u+B,height:a+B}).each(function(e){var t=r(this);t[t.prop?"prop":"attr"]({coordsize:u+B+" "+(a+B),path:j,fillcolor:H.fill,filled:!!e,stroked:!e}).toggle(!!B||!!e),!e&&t.html()===""&&t.html(C("stroke",'weight="'+B*2+'px" color="'+H.border+'" miterlimit="1000" joinstyle="miter"'))})),t!==d&&L.position(e)},position:function(e){var t=M.tip,n={},i=Math.max(0,O.offset),s,o,u;return O.corner===d||!t?d:(e=e||L.corner,s=e.precedance,o=N(e),u=[e.x,e.y],s===m&&u.reverse(),r.each(u,function(t,r){var u,a,f;r===T?(u=s===g?E:w,n[u]="50%",n["margin-"+u]=-Math.round(o[s===g?y:b]/2)+i):(u=l(e,r),a=l(e,r,M.content),f=c(e),n[r]=t?a:i+(f>u?f:-u))}),n[e[s]]-=o[s===m?y:b],t.css({top:"",bottom:"",left:"",right:"",margin:""}).css(n),n)},destroy:function(){M.tip&&M.tip.remove(),M.tip=!1,_.unbind(j)}}),L.init()}function c(n){function i(){b=r(y,l).not("[disabled]").map(function(){return typeof this.focus=="function"?this:null})}function s(e){b.length<1&&e.length?e.not("body").blur():b.first().focus()}function o(e){var t=r(e.target),n=t.closest(".qtip"),i;i=n.length<1?d:parseInt(n[0].style.zIndex,10)>parseInt(l[0].style.zIndex,10),!i&&r(e.target).closest(P)[0]!==l[0]&&s(t)}var u=this,a=n.options.show.modal,f=n.elements,l=f.tooltip,c="#qtip-overlay",h=".qtipmodal",v=h+n.id,m="is-modal-qtip",g=r(t.body),y=A.modal.focusable.join(","),b={},w;n.checks.modal={"^show.modal.(on|blur)$":function(){u.init(),f.overlay.toggle(l.is(":visible"))},"^content.text$":function(){i()}},r.extend(u,{init:function(){return a.on?(w=u.create(),l.attr(m,p).css("z-index",A.modal.zindex+r(P+"["+m+"]").length).unbind(h).unbind(v).bind("tooltipshow"+h+" tooltiphide"+h,function(e,t,n){var i=e.originalEvent;if(e.target===l[0])if(i&&e.type==="tooltiphide"&&/mouse(leave|enter)/.test(i.type)&&r(i.relatedTarget).closest(w[0]).length)try{e.preventDefault()}catch(s){}else(!i||i&&!i.solo)&&u[e.type.replace("tooltip","")](e,n)}).bind("tooltipfocus"+h,function(e){if(e.isDefaultPrevented()||e.target!==l[0])return;var t=r(P).filter("["+m+"]"),n=A.modal.zindex+t.length,i=parseInt(l[0].style.zIndex,10);w[0].style.zIndex=n-2,t.each(function(){this.style.zIndex>i&&(this.style.zIndex-=1)}),t.end().filter("."+B).qtip("blur",e.originalEvent),l.addClass(B)[0].style.zIndex=n;try{e.preventDefault()}catch(s){}}).bind("tooltiphide"+h,function(e){e.target===l[0]&&r("["+m+"]").filter(":visible").not(l).last().qtip("focus",e)}),a.escape&&r(t).unbind(v).bind("keydown"+v,function(e){e.keyCode===27&&l.hasClass(B)&&n.hide(e)}),a.blur&&f.overlay.unbind(v).bind("click"+v,function(e){l.hasClass(B)&&n.hide(e)}),i(),u):u},create:function(){function t(){w.css({height:i.height(),width:i.width()})}var n=r(c),i=r(e);return n.length?f.overlay=n.insertAfter(r(P).last()):(w=f.overlay=r("<div />",{id:c.substr(1),html:"<div></div>",mousedown:function(){return d}}).hide().insertAfter(r(P).last()),i.unbind(h).bind("resize"+h,t),t(),w)},toggle:function(e,t,n){if(e&&e.isDefaultPrevented())return u;var i=a.effect,f=t?"show":"hide",c=w.is(":visible"),h=r("["+m+"]").filter(":visible").not(l),y;return w||(w=u.create()),w.is(":animated")&&c===t&&w.data("toggleState")!==d||!t&&h.length?u:(t?(w.css({left:0,top:0}),w.toggleClass("blurs",a.blur),a.stealfocus!==d&&(g.bind("focusin"+v,o),s(r("body :focus")))):g.unbind("focusin"+v),w.stop(p,d).data("toggleState",t),r.isFunction(i)?i.call(w,t):i===d?w[f]():w.fadeTo(parseInt(n,10)||90,t?1:0,function(){t||r(this).hide()}),t||w.queue(function(e){w.css({left:"",top:""}).removeData("toggleState"),e()}),u)},show:function(e,t){return u.toggle(e,p,t)},hide:function(e,t){return u.toggle(e,d,t)},destroy:function(){var e=w;return e&&(e=r("["+m+"]").not(l).length<1,e?(f.overlay.remove(),r(t).unbind(h)):f.overlay.unbind(h+n.id),g.unbind("focusin"+v)),l.removeAttr(m).unbind(h)}}),u.init()}function h(n){var i=this,s=n.elements,o=n.options,u=s.tooltip,a=".ie6-"+n.id,f=r("select, object").length<1,l=0,c=d,h;n.checks.ie6={"^content|style$":function(e,t,n){redraw()}},r.extend(i,{init:function(){var n=r(e),o;f&&(s.bgiframe=r('<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>'),s.bgiframe.appendTo(u),u.bind("tooltipmove"+a,i.adjustBGIFrame)),h=r("<div/>",{id:"qtip-rcontainer"}).appendTo(t.body),i.redraw(),s.overlay&&!c&&(o=function(){s.overlay[0].style.top=n.scrollTop()+"px"},n.bind("scroll.qtip-ie6, resize.qtip-ie6",o),o(),s.overlay.addClass("qtipmodal-ie6fix"),c=p)},adjustBGIFrame:function(){var e=n.get("dimensions"),t=n.plugins.tip,r=s.tip,i,o;o=parseInt(u.css("border-left-width"),10)||0,o={left:-o,top:-o},t&&r&&(i=t.corner.precedance==="x"?["width","left"]:["height","top"],o[i[1]]-=r[i[0]]()),s.bgiframe.css(o).css(e)},redraw:function(){if(n.rendered<1||l)return i;var e=o.style,t=o.position.container,r,s,a,f;return l=1,e.height&&u.css(b,e.height),e.width?u.css(y,e.width):(u.css(y,"").appendTo(h),s=u.width(),s%2<1&&(s+=1),a=u.css("max-width")||"",f=u.css("min-width")||"",r=(a+f).indexOf("%")>-1?t.width()/100:0,a=(a.indexOf("%")>-1?r:1)*parseInt(a,10)||s,f=(f.indexOf("%")>-1?r:1)*parseInt(f,10)||0,s=a+f?Math.min(Math.max(s,f),a):s,u.css(y,Math.round(s)).appendTo(t)),l=0,i},destroy:function(){f&&s.bgiframe.remove(),u.unbind(a)}}),i.init()}var p=!0,d=!1,v=null,m="x",g="y",y="width",b="height",w="top",E="left",S="bottom",x="right",T="center",N="flip",C="flipinvert",k="shift",L,A,O,M="qtip",_={},D=["ui-widget","ui-tooltip"],P="div.qtip."+M,H=M+"-default",B=M+"-focus",j=M+"-hover",F="_replacedByqTip",I="oldtitle",q;L=r.fn.qtip=function(e,t,i){var o=(""+e).toLowerCase(),u=v,a=r.makeArray(arguments).slice(1),f=a[a.length-1],l=this[0]?r.data(this[0],"qtip"):v;if(!arguments.length&&l||o==="api")return l;if("string"==typeof e)return this.each(function(){var e=r.data(this,"qtip");if(!e)return p;f&&f.timeStamp&&(e.cache.event=f);if(o!=="option"&&o!=="options"||!t)e[o]&&e[o].apply(e[o],a);else{if(!r.isPlainObject(t)&&i===n)return u=e.get(t),d;e.set(t,i)}}),u!==v?u:this;if("object"==typeof e||!arguments.length)return l=s(r.extend(p,{},e)),L.bind.call(this,l,f)},L.bind=function(e,t){return this.each(function(s){function o(e){function t(){h.render(typeof e=="object"||a.show.ready),f.show.add(f.hide).unbind(c)}if(h.cache.disabled)return d;h.cache.event=r.extend({},e),h.cache.target=e?r(e.target):[n],a.show.delay>0?(clearTimeout(h.timers.show),h.timers.show=setTimeout(t,a.show.delay),l.show!==l.hide&&f.hide.bind(l.hide,function(){clearTimeout(h.timers.show)})):t()}var a,f,l,c,h,v;v=r.isArray(e.id)?e.id[s]:e.id,v=!v||v===d||v.length<1||_[v]?L.nextid++:_[v]=v,c=".qtip-"+v+"-create",h=u.call(this,v,e);if(h===d)return p;a=h.options,r.each(A,function(){this.initialize==="initialize"&&this(h)}),f={show:a.show.target,hide:a.hide.target},l={show:r.trim(""+a.show.event).replace(/ /g,c+" ")+c,hide:r.trim(""+a.hide.event).replace(/ /g,c+" ")+c},/mouse(over|enter)/i.test(l.show)&&!/mouse(out|leave)/i.test(l.hide)&&(l.hide+=" mouseleave"+c),f.show.bind("mousemove"+c,function(e){i(e),h.cache.onTarget=p}),f.show.bind(l.show,o),(a.show.ready||a.prerender)&&o(t)}).attr("data-hasqtip",p)},A=L.plugins={Corner:function(e){e=(""+e).replace(/([A-Z])/," $1").replace(/middle/gi,T).toLowerCase(),this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();var t=e.charAt(0);this.precedance=t==="t"||t==="b"?g:m,this.string=function(){return this.precedance===g?this.y+this.x:this.x+this.y},this.abbrev=function(){var e=this.x.substr(0,1),t=this.y.substr(0,1);return e===t?e:this.precedance===g?t+e:e+t},this.invertx=function(e){this.x=this.x===E?x:this.x===x?E:e||this.x},this.inverty=function(e){this.y=this.y===w?S:this.y===S?w:e||this.y},this.clone=function(){return{x:this.x,y:this.y,precedance:this.precedance,string:this.string,abbrev:this.abbrev,clone:this.clone,invertx:this.invertx,inverty:this.inverty}}},offset:function(e,n){function i(e,t){s.left+=t*e.scrollLeft(),s.top+=t*e.scrollTop()}var s=e.offset(),o=e.closest("body"),u=r.browser.msie&&t.compatMode!=="CSS1Compat",a=n,f,l,c;if(a){do a.css("position")!=="static"&&(l=a.position(),s.left-=l.left+(parseInt(a.css("borderLeftWidth"),10)||0)+(parseInt(a.css("marginLeft"),10)||0),s.top-=l.top+(parseInt(a.css("borderTopWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0),!f&&(c=a.css("overflow"))!=="hidden"&&c!=="visible"&&(f=a));while((a=r(a[0].offsetParent)).length);(f&&f[0]!==o[0]||u)&&i(f||o,1)}return s},iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||d,
fn:{attr:function(e,t){if(this.length){var n=this[0],i="title",s=r.data(n,"qtip");if(e===i&&s&&"object"==typeof s&&s.options.suppress)return arguments.length<2?r.attr(n,I):(s&&s.options.content.attr===i&&s.cache.attr&&s.set("content.text",t),this.attr(I,t))}return r.fn["attr"+F].apply(this,arguments)},clone:function(e){var t=r([]),n="title",i=r.fn["clone"+F].apply(this,arguments);return e||i.filter("["+I+"]").attr("title",function(){return r.attr(this,I)}).removeAttr(I),i}}},r.each(A.fn,function(e,t){if(!t||r.fn[e+F])return p;var n=r.fn[e+F]=r.fn[e];r.fn[e]=function(){return t.apply(this,arguments)||n.apply(this,arguments)}}),r.ui||(r["cleanData"+F]=r.cleanData,r.cleanData=function(e){for(var t=0,i;(i=e[t])!==n;t++)try{r(i).triggerHandler("removeqtip")}catch(s){}r["cleanData"+F](e)}),L.version="2.0.1-4-g",L.nextid=0,L.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),L.zindex=15e3,L.defaults={prerender:d,id:d,overwrite:p,suppress:p,content:{text:p,attr:"title",deferred:d,title:{text:d,button:d}},position:{my:"top left",at:"bottom right",target:d,container:d,viewport:d,adjust:{x:0,y:0,mouse:p,resize:p,method:"flipinvert flipinvert"},effect:function(e,t,n){r(this).animate(t,{duration:200,queue:d})}},show:{target:d,event:"mouseenter",effect:p,delay:90,solo:d,ready:d,autofocus:d},hide:{target:d,event:"mouseleave",effect:p,delay:0,fixed:d,inactive:d,leave:"window",distance:d},style:{classes:"",widget:d,width:d,height:d,def:p},events:{render:v,move:v,show:v,hide:v,toggle:v,visible:v,hidden:v,focus:v,blur:v}},A.svg=function(e,n,i,s){var o=r(t),u=n[0],a={width:0,height:0,position:{top:1e10,left:1e10}},f,l,c,h,p;while(!u.getBBox)u=u.parentNode;if(u.getBBox&&u.parentNode){f=u.getBBox(),l=u.getScreenCTM(),c=u.farthestViewportElement||u;if(!c.createSVGPoint)return a;h=c.createSVGPoint(),h.x=f.x,h.y=f.y,p=h.matrixTransform(l),a.position.left=p.x,a.position.top=p.y,h.x+=f.width,h.y+=f.height,p=h.matrixTransform(l),a.width=p.x-a.position.left,a.height=p.y-a.position.top,a.position.left+=o.scrollLeft(),a.position.top+=o.scrollTop()}return a},A.ajax=function(e){var t=e.plugins.ajax;return"object"==typeof t?t:e.plugins.ajax=new a(e)},A.ajax.initialize="render",A.ajax.sanitize=function(e){var t=e.content,n;t&&"ajax"in t&&(n=t.ajax,typeof n!="object"&&(n=e.content.ajax={url:n}),"boolean"!=typeof n.once&&n.once&&(n.once=!!n.once))},r.extend(p,L.defaults,{content:{ajax:{loading:p,once:p}}}),A.tip=function(e){var t=e.plugins.tip;return"object"==typeof t?t:e.plugins.tip=new l(e)},A.tip.initialize="render",A.tip.sanitize=function(e){var t=e.style,n;t&&"tip"in t&&(n=e.style.tip,typeof n!="object"&&(e.style.tip={corner:n}),/string|boolean/i.test(typeof n.corner)||(n.corner=p),typeof n.width!="number"&&delete n.width,typeof n.height!="number"&&delete n.height,typeof n.border!="number"&&n.border!==p&&delete n.border,typeof n.offset!="number"&&delete n.offset)},r.extend(p,L.defaults,{style:{tip:{corner:p,mimic:d,width:6,height:6,border:p,offset:0}}}),A.modal=function(e){var t=e.plugins.modal;return"object"==typeof t?t:e.plugins.modal=new c(e)},A.modal.initialize="render",A.modal.sanitize=function(e){e.show&&(typeof e.show.modal!="object"?e.show.modal={on:!!e.show.modal}:typeof e.show.modal.on=="undefined"&&(e.show.modal.on=p))},A.modal.zindex=L.zindex-200,A.modal.focusable=["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"],r.extend(p,L.defaults,{show:{modal:{on:d,effect:p,blur:p,stealfocus:p,escape:p}}}),A.viewport=function(n,r,i,s,o,u,a){function f(e,t,n,i,s,o,u,a,f){var l=r[s],c=h[e],d=p[e],v=n===k,m=-O.offset[s]+A.offset[s]+A["scroll"+s],g=c===s?f:c===o?-f:-f/2,y=d===s?a:d===o?-a:-a/2,b=D&&D.size?D.size[u]||0:0,w=D&&D.corner&&D.corner.precedance===e&&!v?b:0,E=m-l+w,S=l+f-A[u]-m+w,x=g-(h.precedance===e||c===h[t]?y:0)-(d===T?a/2:0);return v?(w=D&&D.corner&&D.corner.precedance===t?b:0,x=(c===s?1:-1)*g-w,r[s]+=E>0?E:S>0?-S:0,r[s]=Math.max(-O.offset[s]+A.offset[s]+(w&&D.corner[e]===T?D.offset:0),l-x,Math.min(Math.max(-O.offset[s]+A.offset[s]+A[u],l+x),r[s]))):(i*=n===C?2:0,E>0&&(c!==s||S>0)?(r[s]-=x+i,B["invert"+e](s)):S>0&&(c!==o||E>0)&&(r[s]-=(c===T?-x:x)+i,B["invert"+e](o)),r[s]<m&&-r[s]>S&&(r[s]=l,B=h.clone())),r[s]-l}var l=i.target,c=n.elements.tooltip,h=i.my,p=i.at,d=i.adjust,v=d.method.split(" "),N=v[0],L=v[1]||v[0],A=i.viewport,O=i.container,_=n.cache,D=n.plugins.tip,P={left:0,top:0},H,B,j;if(!A.jquery||l[0]===e||l[0]===t.body||d.method==="none")return P;H=c.css("position")==="fixed",A={elem:A,height:A[(A[0]===e?"h":"outerH")+"eight"](),width:A[(A[0]===e?"w":"outerW")+"idth"](),scrollleft:H?0:A.scrollLeft(),scrolltop:H?0:A.scrollTop(),offset:A.offset()||{left:0,top:0}},O={elem:O,scrollLeft:O.scrollLeft(),scrollTop:O.scrollTop(),offset:O.offset()||{left:0,top:0}};if(N!=="shift"||L!=="shift")B=h.clone();return P={left:N!=="none"?f(m,g,N,d.x,E,x,y,s,u):0,top:L!=="none"?f(g,m,L,d.y,w,S,b,o,a):0},B&&_.lastClass!==(j=M+"-pos-"+B.abbrev())&&c.removeClass(n.cache.lastClass).addClass(n.cache.lastClass=j),P},A.imagemap=function(e,t,n,i){function s(e,t,n){var r=0,i=1,s=1,o=0,u=0,a=e.width,f=e.height;while(a>0&&f>0&&i>0&&s>0){a=Math.floor(a/2),f=Math.floor(f/2),n.x===E?i=a:n.x===x?i=e.width-a:i+=Math.floor(a/2),n.y===w?s=f:n.y===S?s=e.height-f:s+=Math.floor(f/2),r=t.length;while(r--){if(t.length<2)break;o=t[r][0]-e.position.left,u=t[r][1]-e.position.top,(n.x===E&&o>=i||n.x===x&&o<=i||n.x===T&&(o<i||o>e.width-i)||n.y===w&&u>=s||n.y===S&&u<=s||n.y===T&&(u<s||u>e.height-s))&&t.splice(r,1)}}return{left:t[0][0],top:t[0][1]}}t.jquery||(t=r(t));var o=e.cache.areas={},u=(t[0].shape||t.attr("shape")).toLowerCase(),a=t[0].coords||t.attr("coords"),f=a.split(","),l=[],c=r('img[usemap="#'+t.parent("map").attr("name")+'"]'),h=c.offset(),p={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10}},d=0,v=0,m;h.left+=Math.ceil((c.outerWidth()-c.width())/2),h.top+=Math.ceil((c.outerHeight()-c.height())/2);if(u==="poly"){d=f.length;while(d--)v=[parseInt(f[--d],10),parseInt(f[d+1],10)],v[0]>p.position.right&&(p.position.right=v[0]),v[0]<p.position.left&&(p.position.left=v[0]),v[1]>p.position.bottom&&(p.position.bottom=v[1]),v[1]<p.position.top&&(p.position.top=v[1]),l.push(v)}else{d=-1;while(d++<f.length)l.push(parseInt(f[d],10))}switch(u){case"rect":p={width:Math.abs(l[2]-l[0]),height:Math.abs(l[3]-l[1]),position:{left:Math.min(l[0],l[2]),top:Math.min(l[1],l[3])}};break;case"circle":p={width:l[2]+2,height:l[2]+2,position:{left:l[0],top:l[1]}};break;case"poly":p.width=Math.abs(p.position.right-p.position.left),p.height=Math.abs(p.position.bottom-p.position.top),n.abbrev()==="c"?p.position={left:p.position.left+p.width/2,top:p.position.top+p.height/2}:(o[n+a]||(p.position=s(p,l.slice(),n),i&&(i[0]==="flip"||i[1]==="flip")&&(p.offset=s(p,l.slice(),{x:n.x===E?x:n.x===x?E:T,y:n.y===w?S:n.y===S?w:T}),p.offset.left-=p.position.left,p.offset.top-=p.position.top),o[n+a]=p),p=o[n+a]),p.width=p.height=0}return p.position.left+=h.left,p.position.top+=h.top,p},A.ie6=function(e){var t=r.browser,n=e.plugins.ie6;return!t.msie||(""+t.version).charAt(0)!=="6"?d:"object"==typeof n?n:e.plugins.ie6=new h(e)},A.ie6.initialize="render"})})(window,document);